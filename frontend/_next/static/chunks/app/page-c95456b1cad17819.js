(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1287:function(e,t,n){Promise.resolve().then(n.bind(n,256))},256:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Home}});var a=n(7437),o=n(2265),s=n(837),l=n(2455),r=n(9409),i=n(1541),c=n(5432),d=n(5817),m=n(9670),u=n(3966),h=n(6020);let x={html:'<!DOCTYPE html>\n<html>\n<head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Email Template</title>\n</head>\n<body style="margin: 0; padding: 0; font-family: Arial, sans-serif;">\n    <div class="email-container" style="max-width: 600px; margin: 0 auto; background-color: #ffffff;">\n        <header style="background-color: #4f46e5; color: white; padding: 20px; text-align: center;">\n            <h1 style="margin: 0; font-size: 24px;">Your Company</h1>\n        </header>\n        \n        <main style="padding: 30px 20px;">\n            <h2 style="color: #1f2937; margin-bottom: 20px;">Welcome!</h2>\n            <p style="color: #4b5563; line-height: 1.6; margin-bottom: 20px;">\n                This is a sample email template. You can edit the HTML and CSS to create your own design.\n            </p>\n            <div style="text-align: center; margin: 30px 0;">\n                <a href="#" style="background-color: #4f46e5; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; display: inline-block;">\n                    Call to Action\n                </a>\n            </div>\n        </main>\n        \n        <footer style="background-color: #f3f4f6; padding: 20px; text-align: center; color: #6b7280;">\n            <p style="margin: 0;">\xa9 2024 Your Company. All rights reserved.</p>\n        </footer>\n    </div>\n</body>\n</html>',css:"/* Email CSS Styles */\n.email-container {\n    font-family: Arial, sans-serif;\n    line-height: 1.6;\n}\n\n.email-container h1 {\n    font-size: 24px;\n    font-weight: bold;\n    margin: 0;\n}\n\n.email-container h2 {\n    font-size: 20px;\n    font-weight: 600;\n    margin-bottom: 15px;\n}\n\n.email-container p {\n    margin-bottom: 15px;\n}\n\n.email-container a {\n    text-decoration: none;\n    color: #4f46e5;\n}\n\n.email-container a:hover {\n    text-decoration: underline;\n}\n\n/* Responsive design */\n@media (max-width: 600px) {\n    .email-container {\n        width: 100% !important;\n    }\n    \n    .email-container main {\n        padding: 20px 15px !important;\n    }\n}"};function EmailEditor(){let[e,t]=(0,o.useState)(x),[n,g]=(0,o.useState)("html"),[p,f]=(0,o.useState)("desktop"),[y,b]=(0,o.useState)("preview"),[v,w]=(0,o.useState)([{id:"1",role:"assistant",content:"Привет! Я помогу тебе создать email шаблон. Что хочешь изменить?",timestamp:new Date}]),[j,N]=(0,o.useState)(""),[k,C]=(0,o.useState)(!1),S=(0,o.useRef)(null),E=(0,o.useRef)(null),D=(0,o.useRef)(null),updatePreview=()=>{if(S.current){var t;let n=S.current,a=n.contentDocument||(null===(t=n.contentWindow)||void 0===t?void 0:t.document);a&&(a.open(),a.write('\n          <!DOCTYPE html>\n          <html>\n          <head>\n            <meta charset="utf-8">\n            <meta name="viewport" content="width='.concat("mobile"===p?"375":"device-width",', initial-scale=1.0, user-scalable=no">\n            <style>').concat(e.css,"</style>\n          </head>\n          <body>\n            ").concat(e.html,"\n          </body>\n          </html>\n        ")),a.close())}};(0,o.useEffect)(()=>{updatePreview()},[e]),(0,o.useEffect)(()=>{"preview"===y&&setTimeout(()=>{updatePreview()},100)},[y]);let handleEditorChange=(e,n)=>{void 0!==e&&t(t=>({...t,["html"===n?"html":"css"]:e}))},sendMessage=async()=>{if(!j.trim())return;let e={id:Date.now().toString(),role:"user",content:j,timestamp:new Date};w(t=>[...t,e]),N(""),C(!0),setTimeout(()=>{let e={id:(Date.now()+1).toString(),role:"assistant",content:"Я получил твое сообщение. Скоро здесь будет интеграция с AI для помощи в создании email шаблонов.",timestamp:new Date};w(t=>[...t,e]),C(!1)},1e3)};return(0,o.useEffect)(()=>{var e;null===(e=D.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[v]),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[calc(100vh-200px)]",children:[(0,a.jsxs)("div",{className:"bg-card border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>g("html"),className:"px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat("html"===n?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"),children:[(0,a.jsx)(l.Z,{className:"w-4 h-4 inline mr-2"}),"HTML"]}),(0,a.jsxs)("button",{onClick:()=>g("css"),className:"px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat("css"===n?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"),children:[(0,a.jsx)(r.Z,{className:"w-4 h-4 inline mr-2"}),"CSS"]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>{var e;null===(e=E.current)||void 0===e||e.click()},className:"p-2 text-green-600 hover:text-green-700 transition-colors",title:"Import email",children:(0,a.jsx)(i.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>{t(x)},className:"p-2 text-muted-foreground hover:text-foreground transition-colors",title:"Reset to default",children:(0,a.jsx)(c.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>{let t='<!DOCTYPE html>\n<html>\n<head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Email Template</title>\n    <style>'.concat(e.css,"</style>\n</head>\n<body>\n    ").concat(e.html,"\n</body>\n</html>"),n=new Blob([t],{type:"text/html"}),a=URL.createObjectURL(n),o=document.createElement("a");o.href=a,o.download="email-template.html",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)},className:"p-2 text-muted-foreground hover:text-foreground transition-colors",title:"Download email",children:(0,a.jsx)(d.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsx)("input",{ref:E,type:"file",accept:".html,.htm,.txt",onChange:e=>{var n;let a=null===(n=e.target.files)||void 0===n?void 0:n[0];if(!a)return;console.log("Importing file:",a.name,"Size:",a.size,"Type:",a.type);let o=new FileReader;o.onload=e=>{var n;let a=null===(n=e.target)||void 0===n?void 0:n.result;console.log("File content loaded, length:",a.length),console.log("Content preview:",a.substring(0,200)+"...");let o="",s=a.match(/<body[^>]*>([\s\S]*)<\/body>/i);if(s)console.log("Found body content, length:",(o=s[1].trim()).length);else{let e=a.replace(/<title[^>]*>.*?<\/title>/gi,"").replace(/<meta[^>]*>/gi,"").replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"").trim();e?console.log("Extracted content after meta tags, length:",(o=e).length):console.log("Loading entire file as HTML, length:",(o=a).length)}let l="",r=a.match(/<style[^>]*>([\s\S]*?)<\/style>/gi);r&&console.log("Extracted CSS, length:",(l=r.map(e=>{let t=e.match(/<style[^>]*>([\s\S]*?)<\/style>/i);return t?t[1].trim():""}).join("\n\n")).length),o&&t(e=>({...e,html:o})),l&&t(e=>({...e,css:l}))},o.readAsText(a),e.target.value=""},className:"hidden"}),(0,a.jsx)("div",{className:"h-[calc(100%-60px)]",children:(0,a.jsx)(s.ZP,{height:"100%",language:n,value:"html"===n?e.html:e.css,onChange:e=>handleEditorChange(e,n),theme:"vs-dark",options:{minimap:{enabled:!1},fontSize:14,wordWrap:"on",lineNumbers:"on",roundedSelection:!1,scrollBeyondLastLine:!1,automaticLayout:!0}})})]}),(0,a.jsxs)("div",{className:"bg-card border rounded-lg p-4 flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>b("preview"),className:"px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat("preview"===y?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"),children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 inline mr-2"}),"Preview"]}),(0,a.jsxs)("button",{onClick:()=>b("chat"),className:"px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat("chat"===y?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"),children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 inline mr-2"}),"AI Chat"]})]}),"preview"===y&&(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>f("desktop"),className:"px-2 py-1 rounded text-xs font-medium transition-colors ".concat("desktop"===p?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"),children:"Desktop"}),(0,a.jsx)("button",{onClick:()=>f("mobile"),className:"px-2 py-1 rounded text-xs font-medium transition-colors ".concat("mobile"===p?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"),children:"Mobile"})]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-hidden",children:"preview"===y?(0,a.jsx)("div",{className:"h-full overflow-auto",children:(0,a.jsx)("div",{className:"mx-auto bg-white rounded-lg shadow-sm ".concat("mobile"===p?"max-w-md":"max-w-full"),children:(0,a.jsx)("iframe",{ref:S,className:"w-full h-[600px] border-0 rounded-lg",title:"Email Preview"})})}):(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto mb-4 space-y-3",children:[v.map(e=>(0,a.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,a.jsxs)("div",{className:"max-w-[80%] rounded-lg px-3 py-2 ".concat("user"===e.role?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground"),children:[(0,a.jsx)("p",{className:"text-sm",children:e.content}),(0,a.jsx)("p",{className:"text-xs opacity-70 mt-1",children:e.timestamp.toLocaleTimeString()})]})},e.id)),k&&(0,a.jsx)("div",{className:"flex justify-start",children:(0,a.jsx)("div",{className:"bg-secondary text-secondary-foreground rounded-lg px-3 py-2",children:(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,a.jsx)("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),(0,a.jsx)("div",{ref:D})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("textarea",{value:j,onChange:e=>N(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),sendMessage())},placeholder:"Задай вопрос о email шаблоне...",className:"flex-1 resize-none rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",rows:3}),(0,a.jsx)("button",{onClick:sendMessage,disabled:!j.trim()||k,className:"px-3 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,a.jsx)(h.Z,{className:"w-4 h-4"})})]})]})})]})]})}function Home(){return(0,a.jsx)("main",{className:"min-h-screen bg-background",children:(0,a.jsxs)("div",{className:"container mx-auto p-4",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"Email Editor"}),(0,a.jsx)(EmailEditor,{})]})})}}},function(e){e.O(0,[981,971,472,744],function(){return e(e.s=1287)}),_N_E=e.O()}]);